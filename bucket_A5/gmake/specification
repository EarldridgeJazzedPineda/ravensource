DEF[PORTVERSION]=	4.3
# ----------------------------------------------------------------------------

NAMEBASE=		gmake
VERSION=		${PORTVERSION}
REVISION=		1
KEYWORDS=		devel
VARIANTS=		standard noprefix
SDESC[standard]=	GNU variant of 'make' utility
SDESC[noprefix]=	GNU make with unprefixed program name
HOMEPAGE=		https://www.gnu.org/software/make/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/make
DISTFILE[1]=		make-${PORTVERSION}.tar.gz:main

# LEGACY/BOOTSTRAP ISSUE !!
# This port originated with a "single" subpackage.
# texinfo:single:standard is heavily used by USES=makeinfo
# Due to potential bootstrapping issues, we can't change this to
# typical "complete primary nls" subpackage.  We just have to
# accept a misnamed port.
SPKGS[standard]=	complete single nls
SPKGS[noprefix]=	complete single nls

OPTIONS_AVAILABLE=	NOPREFIX
OPTIONS_STANDARD=	none
VOPTS[noprefix]=	NOPREFIX=ON

LICENSE=		GPLv3:single
LICENSE_FILE=		GPLv3:{{WRKSRC}}/COPYING
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_AWK=		TERMS:"^\#include"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/main.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/gmake

USES=			cpe gettext-runtime
CPE_VENDOR=		gnu

DISTNAME=		make-${PORTVERSION}
MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--without-guile
			--enable-nls
			--with-libintl-prefix={{LOCALBASE}}
			{{ICONV_CONFIGURE_ARG}}
INFO=			single:make

[NOPREFIX].CONFIGURE_ARGS_OFF=		--program-prefix=g
[NOPREFIX].DESCRIPTION=			Build without prefixing program with "g"
