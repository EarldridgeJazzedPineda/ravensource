DEF[PORTVERSION]=	EXTRACT_INFO(LIBFM_VERSION)
# ----------------------------------------------------------------------------

NAMEBASE=		pcmanfm
VERSION=		${PORTVERSION}
KEYWORDS=		x11_fm
VARIANTS=		standard
SDESC[standard]=	Extremely fast and lightweight file manager
HOMEPAGE=		https://wiki.lxde.org/en/PCManFM
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		SF/pcmanfm/PCManFM%20%2B%20Libfm%20%28tarball%20release%29/PCManFM/
DISTFILE[1]=		pcmanfm-${PORTVERSION}.tar.xz:main

SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

FPC_EQUIVALENT=		x11-fm/pcmanfm

BUILDRUN_DEPENDS=	libfm:single:standard
			fontconfig:primary:standard
			freetype:primary:standard

USES=			desktop-utils gettext-runtime gettext-tools gmake
			pkgconfig
GNOME_COMPONENTS=	gtk3 gdkpixbuf intltool cairo
XORG_COMPONENTS=	x11
MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-gtk=3
			--enable-nls

post-extract:
	${MV} ${WRKSRC}/data/pcmanfm.conf \
		${WRKSRC}/data/pcmanfm.conf.sample

post-patch:
	${REINPLACE_CMD} -e 's|pcmanfm.conf|pcmanfm.conf.sample|' \
		${WRKSRC}/data/Makefile.in

post-install:
	${RMDIR} ${STAGEDIR}${PREFIX}/lib/pcmanfm
