# Makefile has been autogenerated by ravenadm tool

NAMEBASE=ruby-rubygems
VERSION=2.6.13
VARIANT=v24
DL_SITES_main=https://rubygems.org/rubygems/
DISTFILE_1=rubygems-2.6.13.tgz:main
DIST_SUBDIR=ruby
DISTNAME=rubygems-2.6.13
MAKESUM_INDEX=1 
DF_INDEX=1
SUBPACKAGES=single
USES=ruby:v24 
LICENSE_SET=yes
LICENSE_SCHEME=dual
LICENSE_FILE_MIT = ${WRKSRC}/MIT.txt
LICENSE_FILE_RUBY = ${WRKSRC}/LICENSE.txt
LICENSE_single += MIT
LICENSE_NAME_MIT = MIT license / X11 license
LICENSE_single += RUBY
LICENSE_NAME_RUBY = Ruby License
FPC_EQUIVALENT+=devel/ruby-gems
NO_BUILD=yes
PLIST_SUB=DISTNAME="${DISTNAME}" SUFFIX="${RUBY_SUFFIX}" GEMS_DIR="lib/ruby/gems/${RUBY_VER}/gems" CACHE_DIR="lib/ruby/gems/${RUBY_VER}/cache" SPEC_DIR="lib/ruby/gems/${RUBY_VER}/specifications" EXT_DIR="lib/ruby/gems/${RUBY_VER}/extensions" DOC_DIR="lib/ruby/gems/${RUBY_VER}/doc" RUBY23-OFF= RUBY23-ON="@comment " RUBY24-ON= RUBY24-OFF="@comment "

do-install:
	cd ${WRKSRC} && ${SETENV} \
		GEM_HOME=${STAGEDIR}${PREFIX}/lib/ruby/gems/${RUBY_VER} \
		${RUBY} ${RUBY_SETUP} --destdir=${STAGEDIR} --no-ri --no-rdoc

do-install-option:
	# RUBY24 option ON
	if [ "${RUBY_DEFAULT}" = "2.4" ]; then \
	${LN} -sf gem${RUBY_SUFFIX} ${STAGEDIR}${PREFIX}/bin/gem; \
	fi

.include "/xports/Mk/raven.mk"
