DEF[PORTVERSION]=	1.5.7
DEF[SOVERSION]=		1.0.0
# ----------------------------------------------------------------------------

NAMEBASE=		norm
VERSION=		${PORTVERSION}
KEYWORDS=		net
VARIANTS=		standard
SDESC[standard]=	NACK-Oriented Reliable Multicast (NORM)
HOMEPAGE=		https://www.nrl.navy.mil/itd/ncs/products/norm
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://downloads.pf.itd.nrl.navy.mil/norm/
			https://downloads.pf.itd.nrl.navy.mil/norm/archive/
DISTFILE[1]=		src-norm-${PORTVERSION}.tgz:main

SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

FPC_EQUIVALENT=		net/norm

USES=			libtool c++:single python:py27,build
DESTDIRNAME=		--destdir
BUILD_TARGET=		build
SINGLE_JOB=		yes
MUST_CONFIGURE=		yes
CONFIGURE_ARGS=		--prefix="{{PREFIX}}"
			-j{{MAKE_JOBS_NUMBER}}
SOVERSION=		${SOVERSION}

post-install:
	${INSTALL_DATA} ${WRKSRC}/include/normApi.h \
		${STAGEDIR}${PREFIX}/include/
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libnorm.so
