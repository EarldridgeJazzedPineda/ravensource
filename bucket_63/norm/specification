DEF[PORTVERSION]=	1.5r6
DEF[SOVERSION]=		1.0.0
DEF[SOMAJOR]=		${SOVERSION:R:R}
# ----------------------------------------------------------------------------

NAMEBASE=		norm
VERSION=		${PORTVERSION}
KEYWORDS=		net
VARIANTS=		standard
SDESC[standard]=	NACK-Oriented Reliable Multicast (NORM)
HOMEPAGE=		https://www.nrl.navy.mil/itd/ncs/products/norm
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://downloads.pf.itd.nrl.navy.mil/norm/archive/
DISTFILE[1]=		src-norm-${PORTVERSION}.tgz:main

SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

FPC_EQUIVALENT=		net/norm

BUILD_DEPENDS=		python27:single:standard

USES=			libtool c++:single
DESTDIRNAME=		--destdir
BUILD_TARGET=		build
SINGLE_JOB=		yes
MUST_CONFIGURE=		yes
CONFIGURE_ARGS=		--prefix="{{PREFIX}}"
			-j{{MAKE_JOBS_NUMBER}}
PLIST_SUB=		SOVERSION=${SOVERSION}
			SOMAJOR=${SOMAJOR}

post-install:
	${INSTALL_DATA} ${WRKSRC}/include/normApi.h \
		${STAGEDIR}${PREFIX}/include/
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libnorm.so
