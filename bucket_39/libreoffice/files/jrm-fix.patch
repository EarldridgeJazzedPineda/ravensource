--- skia/src/ports/SkFontHost_FreeType_common.cpp.orig	2021-03-01 14:53:09 UTC
+++ skia/src/ports/SkFontHost_FreeType_common.cpp
@@ -665,8 +665,8 @@ void colrv1_draw_paint(SkCanvas* canvas,
             canvas->drawPaint(paint);
             break;
         }
-        case FT_COLR_PAINTFORMAT_TRANSFORMED: {
-            SkMatrix transform = ToSkMatrix(colrv1_paint.u.transformed.affine);
+        case FT_COLR_PAINTFORMAT_TRANSFORM: {
+            SkMatrix transform = ToSkMatrix(colrv1_paint.u.transform.affine);
 
             canvas->concat(transform);
             break;
@@ -760,12 +760,12 @@ bool colrv1_traverse_paint(SkCanvas* can
             traverse_result = colrv1_start_glyph(canvas, palette, face, paint.u.colr_glyph.glyphID,
                                                  FT_COLOR_NO_ROOT_TRANSFORM);
             break;
-        case FT_COLR_PAINTFORMAT_TRANSFORMED:
+        case FT_COLR_PAINTFORMAT_TRANSFORM:
             canvas->saveLayer(nullptr, nullptr);
             // Traverse / draw operation will apply transform.
             colrv1_draw_paint(canvas, palette, face, paint);
             traverse_result =
-                    colrv1_traverse_paint(canvas, palette, face, paint.u.transformed.paint);
+                    colrv1_traverse_paint(canvas, palette, face, paint.u.transform.paint);
             canvas->restore();
             break;
       case FT_COLR_PAINTFORMAT_ROTATE:
NetBSD has no uselocale(3).

--- skia/src/gpu/GrAutoLocaleSetter.h.orig	2020-05-18 08:42:43 UTC
+++ skia/src/gpu/GrAutoLocaleSetter.h
@@ -27,7 +27,7 @@
 #define HAVE_XLOCALE 0
 #endif
 
-#if defined(SK_BUILD_FOR_ANDROID) || defined(__UCLIBC__) || defined(_NEWLIB_VERSION)
+#if defined(SK_BUILD_FOR_ANDROID) || defined(__UCLIBC__) || defined(_NEWLIB_VERSION) || defined(__NetBSD__)
 #define HAVE_LOCALE_T 0
 #else
 #define HAVE_LOCALE_T 1
