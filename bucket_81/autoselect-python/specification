# manually update when python versions are cycled
DEF[PORTVERSION]=	4
DEF[ALPHA]=		3.10
DEF[BRAVO]=		3.11
# ----------------------------------------------------------------------------

NAMEBASE=		autoselect-python
VERSION=		${PORTVERSION}
KEYWORDS=		lang
VARIANTS=		standard
SDESC[standard]=	Dynamic links to the latest installed python
HOMEPAGE=		none
CONTACT=		nobody

DOWNLOAD_GROUPS=	none

SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

LICENSE=		ISCL:single
LICENSE_FILE=		ISCL:{{FILESDIR}}/LICENSE_ISC
LICENSE_SCHEME=		solo

SUB_FILES=		only3.c
SUB_LIST=		ALPHA=${ALPHA}
			BRAVO=${BRAVO}

post-patch:
	${MKDIR} ${WRKSRC}
	${CP} ${WRKDIR}/*.c ${WRKSRC}

do-build:
	(cd ${WRKSRC} && ${CC} ${CFLAGS} ${LDFLAGS} -o only3 only3.c)

do-install:
.for prog in python python3 python-config python-config3 2to3 idle pydoc
	${INSTALL_PROGRAM} ${WRKSRC}/only3 ${STAGEDIR}${PREFIX}/bin/${prog}
.endfor
