DEF[PORTVERSION]=	23.13.9
DEF[FBSD_TAG]=		1ad45945
# ----------------------------------------------------------------------------

NAMEBASE=		accountsservice
VERSION=		${PORTVERSION}
KEYWORDS=		sysutils
VARIANTS=		standard
SDESC[standard]=	D-Bus service for user account query/manipulation
HOMEPAGE=		https://www.freedesktop.org/wiki/Software/AccountsService/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://gitlab.freedesktop.org/arrowd/accountsservice/-/archive/${FBSD_TAG}/
DISTFILE[1]=		accountsservice-${FBSD_TAG}.tar.gz:main

SPKGS[standard]=	complete primary nls docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

LICENSE=		GPLv3+:primary
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/accounts-daemon.h
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		sysutils/accountsservice

BUILD_DEPENDS=		xmlto:single:standard
			dbus:dev:standard
			consolekit:dev:standard
BUILDRUN_DEPENDS=	polkit:primary:standard
			consolekit:primary:standard

USES=			cpe meson pkgconfig
GNOME_COMPONENTS=	glib introspection
CPE_VENDOR=		freedesktop
MESON_ARGS=		-Dsystemdsystemunitdir=no
			-Dconsolekit=true
			-Dlocalstatedir=/var
			-Ddocbook=true
			-Dgtk_doc=false
			-Dvapi=false
			-Dtests=false
DISTNAME=		accountsservice-${FBSD_TAG}

BROKEN[all]=		save work in progress
