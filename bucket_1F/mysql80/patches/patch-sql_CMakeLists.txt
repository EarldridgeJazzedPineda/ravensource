--- sql/CMakeLists.txt.orig	2020-12-11 07:42:20 UTC
+++ sql/CMakeLists.txt
@@ -662,10 +662,10 @@ ENDIF()
 IF(LINUX)
   LIST(APPEND SQL_SHARED_SOURCES
     resourcegroups/platform/thread_attrs_api_linux.cc)
-ELSEIF(APPLE)
+ELSEIF(APPLE OR CMAKE_SYSTEM_NAME MATCHES "DragonFly")
   LIST(APPEND SQL_SHARED_SOURCES
     resourcegroups/platform/thread_attrs_api_apple.cc)
-ELSEIF(FREEBSD)
+ELSEIF(CMAKE_SYSTEM_NAME MATCHES "FreeBSD")
   LIST(APPEND SQL_SHARED_SOURCES
     resourcegroups/platform/thread_attrs_api_freebsd.cc)
 ELSEIF(SOLARIS)
