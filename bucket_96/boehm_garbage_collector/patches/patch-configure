--- configure.orig	2021-09-28 20:48:19 UTC
+++ configure
@@ -16198,6 +16198,9 @@ else
 fi
 
 case "${host}" in
+  *-freebsd*|*-dragonfly*|*-netbsd*)
+    gc_use_mmap=yes
+    ;;
   *-linux*)
     # FIXME: This seems to be no longer needed as configured in gcconfig.h
     #gc_use_mmap=yes
@@ -16803,7 +16806,7 @@ case "$host" in
   mips-sgi-irix6*) ;;
 # We never want libdl on darwin. It is a fake libdl that just ends up making
 # dyld calls anyway.  The same applies to Cygwin.
-  *-*-cygwin* | *-*-darwin* | *-*-msys*)
+  *-*-cygwin* | *-*-darwin* | *-*-msys* | *-*-netbsd* | *-*-dragonfly* | *-*-freebsd* )
     ;;
   *)
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl" >&5
