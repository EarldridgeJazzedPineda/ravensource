DEF[PORTVERSION]=	1.0.29
# ----------------------------------------------------------------------------

NAMEBASE=		libsndfile
VERSION=		${PORTVERSION}
KEYWORDS=		audio
VARIANTS=		standard
SDESC[standard]=	Library for reading and writing sound files
HOMEPAGE=		http://www.mega-nerd.com/libsndfile/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/erikd:libsndfile:v${PORTVERSION}
DISTFILE[1]=		generated:main

SPKGS[standard]=	complete primary docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

FPC_EQUIVALENT=		audio/libsndfile

BUILDRUN_DEPENDS=	flac:primary:standard
			libvorbis:primary:standard
			opus:single:standard
			speex:primary:standard

USES=			cmake cpe gmake libtool pkgconfig python:build
CMAKE_ARGS=		-DBUILD_SHARED_LIBS:BOOL=true
CPE_VENDOR=		libsndfile_project

SOVERSION=		${PORTVERSION}

post-install:
	(cd ${WRKSRC}/doc && ${COPYTREE_SHARE} . ${STAGEDIR}${STD_DOCDIR})
	${RM} ${STAGEDIR}${STD_DOCDIR}/Makefile*
	${RM} ${STAGEDIR}${STD_DOCDIR}/libsndfile.css.in
